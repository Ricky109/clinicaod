import{r as m,j as d,c as s,a as l,b as C,f as b,g as R,h as L,w as u,v as r,t as g,k as n,n as B,o as i,i as y}from"./index-B7z3Ix4m.js";import{u as U}from"./pacienteStore-D4wRQiUQ.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./pagoService-DBgJkjvE.js";const P={class:"card"},M={class:"mt-2",style:{"text-align":"center"}},S={class:"grid grid-2"},T={style:{"text-align":"center"}},V=["disabled"],x={key:0,style:{color:"#b91c1c"}},_={key:1,class:"mt-2"},$={class:"grid grid-1"},w=["readonly"],G=["value"],j=["value"],z=["value"],q={key:0,class:"mt-2"},F={class:"mt-2"},H={__name:"BuscarPaciente",setup(J){const e=U(),c=m(""),v=m(!1),p=m("");async function I(){try{p.value="",v.value=!0,await e.buscarPaciente(c.value),e.nuevo&&(e.paciente.apellido1="",e.paciente.apellido2="",e.paciente.nombres="",e.paciente.CNROCEL="")}catch(o){p.value=o.message}finally{v.value=!1}}async function f(){try{p.value="",e.paciente.CNOMBRE=`${e.paciente.apellido1||""}/${e.paciente.apellido2||""}/${e.paciente.nombres||""}`,await e.registrarPaciente(e.paciente)}catch(o){p.value=o.message}}const N=d(()=>!e.nuevo&&!!e.paciente),O=d(()=>{var o;return(o=e.paciente)!=null&&o.CNOMBRE&&e.paciente.CNOMBRE.split("/")[0]||""}),A=d(()=>{var o;return(o=e.paciente)!=null&&o.CNOMBRE&&e.paciente.CNOMBRE.split("/")[1]||""}),k=d(()=>{var o;return(o=e.paciente)!=null&&o.CNOMBRE&&e.paciente.CNOMBRE.split("/")[2]||""});return(o,t)=>{const E=L("router-link");return i(),s("div",P,[t[18]||(t[18]=l("h2",null,"BUSCAR/REGISTRAR PACIENTE",-1)),l("div",M,[b(E,{class:"btn btn-SALIR",to:"/home"},{default:R(()=>[...t[10]||(t[10]=[y("INICIO",-1)])]),_:1})]),l("div",S,[u(l("input",{class:"input",placeholder:"DNI PACIENTE","onUpdate:modelValue":t[0]||(t[0]=a=>c.value=a)},null,512),[[r,c.value]]),l("div",T,[l("button",{class:"btn btn-SALIR",onClick:I,disabled:v.value}," BUSCAR ",8,V)])]),p.value?(i(),s("p",x,g(p.value),1)):C("",!0),n(e).paciente?(i(),s("div",_,[t[17]||(t[17]=l("h3",null,"DATOS DEL PACIENTE",-1)),l("div",$,[t[11]||(t[11]=l("label",null,"DNI:",-1)),u(l("input",{class:B(["input",N.value?"input-readonly":""]),"onUpdate:modelValue":t[1]||(t[1]=a=>n(e).paciente.CNRODNI=a),readonly:N.value},null,10,w),[[r,n(e).paciente.CNRODNI]]),t[12]||(t[12]=l("label",null,"PRIMER APELLIDO:",-1)),n(e).nuevo?u((i(),s("input",{key:0,class:"input","onUpdate:modelValue":t[2]||(t[2]=a=>n(e).paciente.apellido1=a),onInput:t[3]||(t[3]=a=>n(e).paciente.apellido1=n(e).paciente.apellido1.toUpperCase())},null,544)),[[r,n(e).paciente.apellido1]]):(i(),s("input",{key:1,class:"input input-readonly",value:O.value,readonly:""},null,8,G)),t[13]||(t[13]=l("label",null,"SEGUNDO APELLIDO:",-1)),n(e).nuevo?u((i(),s("input",{key:2,class:"input","onUpdate:modelValue":t[4]||(t[4]=a=>n(e).paciente.apellido2=a),onInput:t[5]||(t[5]=a=>n(e).paciente.apellido2=n(e).paciente.apellido2.toUpperCase())},null,544)),[[r,n(e).paciente.apellido2]]):(i(),s("input",{key:3,class:"input input-readonly",value:A.value,readonly:""},null,8,j)),t[14]||(t[14]=l("label",null,"NOMBRES:",-1)),n(e).nuevo?u((i(),s("input",{key:4,class:"input","onUpdate:modelValue":t[6]||(t[6]=a=>n(e).paciente.nombres=a),onInput:t[7]||(t[7]=a=>n(e).paciente.nombres=n(e).paciente.nombres.toUpperCase())},null,544)),[[r,n(e).paciente.nombres]]):(i(),s("input",{key:5,class:"input input-readonly",value:k.value,readonly:""},null,8,z)),t[15]||(t[15]=l("label",null,"CELULAR:",-1)),u(l("input",{class:"input","onUpdate:modelValue":t[8]||(t[8]=a=>n(e).paciente.CNROCEL=a),onInput:t[9]||(t[9]=a=>n(e).paciente.CNROCEL=n(e).paciente.CNROCEL.toUpperCase().replace(/\D/g,"").slice(0,9)),maxlength:"9",inputmode:"numeric",pattern:"[0-9]{9}"},null,544),[[r,n(e).paciente.CNROCEL]])]),n(e).nuevo?(i(),s("div",q,[l("button",{class:"btn btn-primary",onClick:f},"GUARDAR PACIENTE")])):C("",!0),l("div",F,[b(E,{class:"btn btn-SALIR",to:"/atencion"},{default:R(()=>[...t[16]||(t[16]=[y("TRATAMIENTO",-1)])]),_:1})])])):C("",!0)])}}},Y=D(H,[["__scopeId","data-v-8e40f3e1"]]);export{Y as default};
