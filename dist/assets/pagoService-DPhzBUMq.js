async function d(c){const n="https://transacciones.ucsm.edu.pe/MSERP/MsAplicativos";try{const r={ID:"COD1022",CNROPAG:c.CNROPAG};console.log("Verificando pago con:",r);const t=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok)throw new Error("Error de conexión con el servidor");const o=await t.json();if(o.ERROR)throw new Error(o.ERROR);return console.log("Respuesta de verificación de pago:",o),{OK:o.CESTADO==="C"?"OK":"PENDIENTE",ESTADO:o.CESTADO,DESCRIPCION:o.CDESEST}}catch(r){throw console.error("Error verificando pago:",r),r}}async function I(c,n,r){const t="https://transacciones.ucsm.edu.pe/MSERP/MsAplicativos";try{const o=new Date().toISOString().split("T")[0],a={ID:"COD1021",CNRODNI:c,DINICIO:n||r||o,DFINALI:r||n||o};console.log("Llamando API COD1021 (rango) con:",a);const i=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!i.ok)throw new Error("Error de conexión con el servidor");const s=await i.json();if(s.ERROR)throw new Error(s.ERROR);return console.log("Respuesta de API COD1021:",s),s.map(e=>({paciente:e.CNOMBRE,dni:e.CNRODNI,codigo:e.CNROPAG,cboleta:e.CBOLETA,monto:e.NMONTO,estado:e.CESTADO,estadoDesc:e.CDESEST,fecha:e.TREGIS}))}catch(o){throw console.error("Error en historialPacientesAtendidos:",o),o}}export{I as h,d as v};
