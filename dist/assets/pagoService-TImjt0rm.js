async function i(s){const a="https://transacciones.ucsm.edu.pe/MSERP/MsAplicativos";try{const e={ID:"COD1022",CNROPAG:s.CNROPAG};console.log("Verificando pago con:",e);const r=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw new Error("Error de conexión con el servidor");const o=await r.json();if(o.ERROR)throw new Error(o.ERROR);return console.log("Respuesta de verificación de pago:",o),{OK:o.CESTADO==="C"?"OK":"PENDIENTE",ESTADO:o.CESTADO,DESCRIPCION:o.CDESEST}}catch(e){throw console.error("Error verificando pago:",e),e}}async function d(s,a=null){const e="https://transacciones.ucsm.edu.pe/MSERP/MsAplicativos";try{const r=a||new Date().toISOString().split("T")[0],o={ID:"COD1021",CNRODNI:s,DFECHA:r};console.log("Llamando API COD1021 con:",o);const c=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!c.ok)throw new Error("Error de conexión con el servidor");const t=await c.json();if(t.ERROR)throw new Error(t.ERROR);return console.log("Respuesta de API COD1021:",t),t.map(n=>({paciente:n.CNOMBRE,dni:n.CNRODNI,codigo:n.CNROPAG,monto:n.NMONTO,estado:n.CESTADO,estadoDesc:n.CDESEST,fecha:n.TREGIS}))}catch(r){throw console.error("Error en historialPacientesAtendidos:",r),r}}export{d as h,i as v};
