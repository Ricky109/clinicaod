import{u as g,r as m,B as A,c as r,a as o,b as E,t as e,k as O,F as v,y as C,f as I,g as S,h as f,o as i,i as d,n as D}from"./index-B7z3Ix4m.js";import{h as N}from"./pagoService-DBgJkjvE.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"card"},w={class:"historial-container"},L={key:0,class:"no-pagos"},k={class:"historial-row"},x={class:"historial-row"},P={class:"historial-row"},y={class:"historial-row"},R={class:"mt-2",style:{"text-align":"center"}},U={__name:"Historial",setup(h){const a=g(),l=m([]);A(async()=>{var n,s;console.log("Usuario autenticado:",a.user),console.log("Código de estudiante:",(n=a.user)==null?void 0:n.CCODALU),l.value=await N(((s=a.user)==null?void 0:s.CCODALU)||""),console.log("Pagos encontrados:",l.value)});function u(n){switch(n.toLowerCase()){case"pagado":return{icon:"✔️",class:"estado-pagado"};case"pendiente":return{icon:"⏳",class:"estado-pendiente"};case"anulado":return{icon:"❌",class:"estado-anulado"};default:return{icon:"❔",class:"estado-desconocido"}}}return(n,s)=>{var c;const p=f("router-link");return i(),r("div",T,[s[9]||(s[9]=o("h2",null,"HISTORIAL DE PAGOS",-1)),o("div",w,[l.value.length===0?(i(),r("div",L,[s[0]||(s[0]=o("p",null,"NO HAY PAGOS REGISTRADOS PARA ESTE ESTUDIANTE.",-1)),o("p",null,"CÓDIGO DE ESTUDIANTE: "+e(((c=O(a).user)==null?void 0:c.CCODALU)||"NO DISPONIBLE"),1)])):E("",!0),(i(!0),r(v,null,C(l.value,t=>(i(),r("div",{key:t.codigo,class:"historial-card"},[o("div",k,[s[1]||(s[1]=o("strong",null,"PACIENTE:",-1)),s[2]||(s[2]=d()),o("span",null,e(t.paciente),1)]),o("div",x,[s[3]||(s[3]=o("strong",null,"NÚMERO DE PAGO:",-1)),s[4]||(s[4]=d()),o("span",null,e(t.codigo),1)]),o("div",P,[s[5]||(s[5]=o("strong",null,"MONTO:",-1)),s[6]||(s[6]=d()),o("span",null,"S/ "+e(t.monto.toFixed(2)),1)]),o("div",y,[s[7]||(s[7]=o("strong",null,"ESTADO:",-1)),o("span",{class:D(["estado-icon",u(t.estado).class])},e(u(t.estado).icon),3)])]))),128))]),o("div",R,[I(p,{class:"btn btn-SALIR",to:"/home"},{default:S(()=>[...s[8]||(s[8]=[d("INICIO",-1)])]),_:1})])])}}},V=_(U,[["__scopeId","data-v-fe4a5dd5"]]);export{V as default};
