import{u as P}from"./pacienteStore-e-Mf1oFN.js";import{_ as E,r as u,c,a as o,b,f as a,p,t as r,n as g,e as N,o as i}from"./index-ClXnDJC3.js";import"./pagoService-TImjt0rm.js";const y={class:"card"},C={key:0},O={key:1},_={class:"nro-pago-container"},T={class:"mt-2",style:{"text-align":"center"}},R=["disabled"],x={key:2,class:"toast"},S={__name:"Pago",setup(k){const t=P(),m=N(),l=u(!1),s=u(!1);async function A(){try{l.value=!0,await t.verificarPago()}catch(n){alert(n.message)}finally{l.value=!1}}function v(){m.push("/atencion")}function d(n){switch(n.toLowerCase()){case"pagado":return{icon:"‚úîÔ∏è",class:"estado-pagado"};case"pendiente":return{icon:"‚è≥",class:"estado-pendiente"};case"anulado":return{icon:"‚ùå",class:"estado-anulado"};default:return{icon:"‚ùî",class:"estado-desconocido"}}}async function f(){try{await navigator.clipboard.writeText(t.nroPago.toString()),s.value=!0,setTimeout(()=>{s.value=!1},3e3)}catch{const e=document.createElement("textarea");e.value=t.nroPago.toString(),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),s.value=!0,setTimeout(()=>{s.value=!1},3e3)}}return(n,e)=>(i(),c("div",y,[e[5]||(e[5]=o("h2",{style:{"text-align":"center"}},"PAGO",-1)),!a(t).nroPago||a(t).nroPago===null||a(t).nroPago===""?(i(),c("div",C,[o("div",{class:"no-pago-message"},[e[0]||(e[0]=o("p",null,[o("strong",null,"NO HAY PAGO GENERADO. VUELVA A ATENCI√ìN.")],-1)),o("button",{class:"btn btn-primary",onClick:v}," VOLVER A ATENCI√ìN ")])])):(i(),c("div",O,[o("div",_,[o("p",null,[e[1]||(e[1]=o("strong",null,"NRO DE PAGO:",-1)),p(" "+r(a(t).nroPago),1)]),o("button",{class:"btn btn-copy",onClick:f,title:"Copiar n√∫mero de pago"}," üìã COPIAR NRO ")]),o("p",null,[e[2]||(e[2]=o("strong",null,"MONTO TOTAL:",-1)),p(" S/ "+r(a(t).montoTotal.toFixed(2)),1)]),o("p",null,[e[3]||(e[3]=o("strong",null,"ESTADO:",-1)),o("span",{class:g(["estado-icon",d(a(t).estadoPago).class])},r(d(a(t).estadoPago).icon),3),o("span",{class:g(["badge",a(t).estadoPago==="PAGADO"?"badge-ok":"badge-pend"])},r(a(t).estadoPago),3)]),e[4]||(e[4]=o("div",{class:"mt-2"},[o("h3",null,"YAPE: CAT√ìLICA DE SANTA MAR√çA DE AREQUIPA PENSIONES")],-1)),o("div",T,[o("button",{class:"btn btn-secondary",onClick:A,disabled:l.value},r(l.value?"REFRESCANDO...":"REFRESCAR"),9,R)])])),s.value?(i(),c("div",x," Nro de pago copiado ")):b("",!0)]))}},w=E(S,[["__scopeId","data-v-8acb0f31"]]);export{w as default};
