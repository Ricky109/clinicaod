import{u as A}from"./pacienteStore-DfTHjeIC.js";import{_ as O,r as E,c as r,a as s,f as t,m as d,t as e,n as u,e as f,o as i}from"./index-Cj1LC5wF.js";import"./pagoService-TImjt0rm.js";const m={class:"card"},v={key:0},C={key:1},N={class:"mt-2",style:{"text-align":"center"}},b=["disabled"],R={__name:"Pago",setup(_){const a=A(),g=f(),n=E(!1);async function p(){try{n.value=!0,await a.verificarPago()}catch(l){alert(l.message)}finally{n.value=!1}}function P(){g.push("/atencion")}function c(l){switch(l.toLowerCase()){case"pagado":return{icon:"✔️",class:"estado-pagado"};case"pendiente":return{icon:"⏳",class:"estado-pendiente"};case"anulado":return{icon:"❌",class:"estado-anulado"};default:return{icon:"❔",class:"estado-desconocido"}}}return(l,o)=>(i(),r("div",m,[o[5]||(o[5]=s("h2",{style:{"text-align":"center"}},"PAGO",-1)),!t(a).nroPago||t(a).nroPago===null||t(a).nroPago===""?(i(),r("div",v,[s("div",{class:"no-pago-message"},[o[0]||(o[0]=s("p",null,[s("strong",null,"NO HAY PAGO GENERADO. VUELVA A ATENCIÓN.")],-1)),s("button",{class:"btn btn-primary",onClick:P}," VOLVER A ATENCIÓN ")])])):(i(),r("div",C,[s("p",null,[o[1]||(o[1]=s("strong",null,"NRO DE PAGO:",-1)),d(" "+e(t(a).nroPago),1)]),s("p",null,[o[2]||(o[2]=s("strong",null,"MONTO TOTAL:",-1)),d(" S/ "+e(t(a).montoTotal.toFixed(2)),1)]),s("p",null,[o[3]||(o[3]=s("strong",null,"ESTADO:",-1)),s("span",{class:u(["estado-icon",c(t(a).estadoPago).class])},e(c(t(a).estadoPago).icon),3),s("span",{class:u(["badge",t(a).estadoPago==="PAGADO"?"badge-ok":"badge-pend"])},e(t(a).estadoPago),3)]),o[4]||(o[4]=s("div",{class:"mt-2"},[s("h3",null,"PAGO POR YAPE (DEMO)"),s("p",null,[d("CONCEPTO: "),s("strong",null,"PAGO DE SERVICIOS UCSM")])],-1)),s("div",N,[s("button",{class:"btn btn-secondary",onClick:p,disabled:n.value},e(n.value?"REFRESCANDO...":"REFRESCAR"),9,b)])]))]))}},D=O(R,[["__scopeId","data-v-6a677994"]]);export{D as default};
