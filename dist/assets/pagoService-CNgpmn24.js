async function R(t){const s="https://transacciones.ucsm.edu.pe/MSERP/MsAplicativos";try{const r={ID:"COD1022",CNROPAG:t.CNROPAG};console.log("Verificando pago con:",r);const n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok)throw new Error("Error de conexión con el servidor");const o=await n.json();if(o.ERROR)throw new Error(o.ERROR);return console.log("Respuesta de verificación de pago:",o),{OK:o.CESTADO==="C"?"OK":"PENDIENTE",ESTADO:o.CESTADO,DESCRIPCION:o.CDESEST}}catch(r){throw console.error("Error verificando pago:",r),r}}async function l(t,s,r){const n="https://transacciones.ucsm.edu.pe/MSERP/MsAplicativos";try{const o=new Date().toISOString().split("T")[0],a={ID:"COD1021",CNRODNI:t,DINICIO:s||r||o,DFINALI:r||s||o};console.log("Llamando API COD1021 (rango) con:",a);const O=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!O.ok)throw new Error("Error de conexión con el servidor");const i=await O.json();if(i.ERROR)throw new Error(i.ERROR);return console.log("Respuesta de API COD1021:",i),i.map(e=>({paciente:e.CNOMBRE,dni:e.CNRODNI,codigo:e.CNROPAG,cboleta:e.CBOLETA,monto:e.NMONTO,estado:e.CESTADO,estadoDesc:e.CDESEST,fecha:e.TREGIS}))}catch(o){throw console.error("Error en historialPacientesAtendidos:",o),o}}async function d(t){const s="https://transacciones.ucsm.edu.pe/MSERP/MsAplicativos";try{const r={ID:"COD1026",CBOLETA:t};console.log("Solicitando nombre de boleta (COD1026) con:",r);const n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok)throw new Error("Error de conexión con el servidor");const o=await n.json();if(o.ERROR)throw new Error(o.ERROR);const c=(o==null?void 0:o.CBOLETA)||(o==null?void 0:o.NOMBRE)||(o==null?void 0:o.PDF)||(o==null?void 0:o.archivo)||(o==null?void 0:o[0])||o;if(!c||typeof c!="string")throw new Error("Respuesta inválida del servicio COD1026");return c}catch(r){throw console.error("Error en obtenerNombreBoletaPdf:",r),r}}export{l as h,d as o,R as v};
